<!-- (c) 2020 Cameron Grigoriadis -->
<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/hero-decoration.css">

    <link rel="icon" type="image/png" href="resources/service-day-icon.png">

    <title>Cameron Grigoriadis | Personal Website | camgrigo.com</title>
</head>

<body class="container-fluid p-0">
    <div class="background">
        <div class="background-layer background-layer-one"></div>
        <div class="background-layer background-layer-two"></div>
    </div>

    <main>
        <div class="hero-decoration">
            <div class="hero-decoration-square hero-decoration-square-top"></div>
            <div class="hero-decoration-square hero-decoration-square-center"></div>
            <div class="hero-decoration-square hero-decoration-square-right"></div>
            <div class="hero-decoration-square hero-decoration-square-bottom"></div>
        </div>
        <div>
            <section id="about">
                <h1></h1>
                <h2></h2>
                <p></p>
                <div class="link-list d-flex flex-column flex-sm-row align-items-start">
                    <button class="btn">
                        <a href="https://www.linkedin.com/in/camgrigo" target="_blank">
                            <img src="resources/icons/feather/linkedin.svg" alt="LinkedIn">
                            LinkedIn
                        </a>
                    </button>
                    <button class="btn">
                        <a href="mailto:camgrigoriadis@gmail.com">
                            <img src="resources/icons/feather/mail.svg" alt="Email">
                            Email
                        </a>
                    </button>
                    <button class="btn">
                        <a href="" target="_blank">
                            <img src="resources/icons/feather/file-text.svg" alt="Resume">
                            Resume
                        </a>
                    </button>
                </div>
            </section>
            <section id="skills">
                <h2>Skills & Experience</h2>
                <div class="card-container"></div>
            </section>
        </div>
    </main>

    <footer>
        <div class="footer-header">
            <a class="email" href="mailto:camgrigoriadis@gmail.com">
camgrigoriadis@gmail.com
            </a>
        </div>
        <div class="footer-content">
            <section class="icon-credit">
                <h6>Some icons courtesy of</h6>
                <ul>
                    <li>
                        <a href="https://feathericons.com/" target="_blank">
                            Feather<img src="resources/icons/feather/feather.svg" alt="Feather">
                        </a>
                    </li>
                    <li>
                        <a href="https://www.flaticon.com/authors/freepik" title="Freepik" target="_blank">Freepik</a> from <a href="https://www.flaticon.com/" title="Flaticon" target="_blank">www.flaticon.com</a>
                    </li>
                </ul>
            </section>
            <section class="legal-copy">
                <p>Copyright 2020 Cameron Grigoriadis.</p>
                <p>Apple, the Apple logo, iPhone, and iPad are trademarks of Apple Inc., registered in the U.S. and other countries and regions. App Store is a service mark of Apple Inc. Swift and the Swift logo are trademarks of Apple Inc. LinkedIn, the LinkedIn logo, the IN logo and InMail are registered trademarks or trademarks of LinkedIn Corporation and its affiliates in the United States and/or other countries.</p>
            </section>
        </div>
    </footer>

    <script>
        // UI Elements

        function Image({
            src,
            alt
        }, className) {
            let image = document.createElement("img")

            image.src = src
            image.alt = alt
            image.className = className

            return image
        }

        function View(children = [], className) {
            let element = document.createElement("div")

            if (className) {
                element.className = className
            }
            children.forEach(child => {
                if (child) {
                    element.appendChild(child)
                }
            })

            return element
        }

        function HTML(innerHTML, className) {
            let element = document.createElement("div")

            if (className) {
                element.className = className
            }
            element.innerHTML = innerHTML

            return element
        }

        function Label(text, className) {
            let element = View([], className)

            element.innerHTML = text

            return element
        }


        // Link List Animation

        function buildInLinkList() {
            let elements = document.querySelectorAll(".link-list button a")

            const animationEnd = "animationend"

            elements.forEach((element, index) => {
                element.addEventListener(animationEnd, () => {
                    element.style.opacity = 1
                })

                element.style.opacity = 0
                element.style.animation = `scale-in 500ms ease-in-out ${(index * 100) + 250}ms`
            })
        }


        // Load Content

        var content = null

        function loadAboutSection() {
            let aboutSection = document.getElementById("about")

            aboutSection.querySelector("h1").innerHTML = content.about.heading
            aboutSection.querySelector("h2").innerHTML = content.about.subheading
            aboutSection.querySelector("p").innerHTML = content.about.text
        }

        function SkillCell(item) {
            let images = item.images ? item.images.map(image => {
                return Image(image, `skill-item-img${image.noStyling ? " skill-item-img-plain" : ``}`)
            }) : null
            let cell = View([
                View([
                    Label(item.title, "skill-item-title"),
                    HTML(item.content)
                ], "skill-item-body")
            ].concat(images), "skill-item")

            if (item.width == "full") {
                cell.classList.add("skill-item-row")
            }

            return cell
        }

        async function loadSkillsSection() {
            let skillsListContainer = document.querySelector("#skills .card-container")

            content.skills.forEach(item => {
                skillsListContainer.appendChild(SkillCell(item))
            })
        }

        function loadContent() {
            (async () => {
                try {
                  let response = await fetch("https://www.camgrigo.com/test/data/main.json")
                  content = await response.json()

                  loadAboutSection()
                  buildInLinkList()
                  loadSkillsSection()

                } catch (error) {
                  console.error(error)
                }
            })()
        }

        loadContent()
    </script>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
</body></html>
